(this["webpackJsonpreact-climber"]=this["webpackJsonpreact-climber"]||[]).push([[0],{116:function(e,t,a){e.exports=a(264)},121:function(e,t,a){},123:function(e,t,a){},264:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(26),r=a.n(c),l=(a(121),a(16)),i=a.n(l),u=a(36),s=a(7),m=(a(123),a(269)),d=a(275),b=a(270),E=a(276),f=a(268),v=(a(124),a(6)),p=Object(v.atom)({key:"gameState",default:{GameID:"8d60e1c0-c91e-11ea-8dc7-d7d22775db3d",active:!1,currentSteps:0,multiplier:2,startedAt:1595792079475,winningSteps:87,confetti:!1}}),h=Object(v.atom)({key:"playerState",default:{voteSubmitted:!1,vote:!1,voteRound:-1}}),w=Object(v.atom)({key:"confettiState",default:!1}),S=Object(v.atom)({key:"endTimerState",default:0}),g=a(272),O=a(273),j=a(267),y=a(274);function k(){var e=Object(v.useRecoilState)(p),t=Object(s.a)(e,2),a=t[0],c=(t[1],Object(v.useRecoilState)(h)),r=Object(s.a)(c,2),l=r[0],m=r[1],d=Object(v.useRecoilState)(S),b=Object(s.a)(d,2),E=b[0],f=b[1];function w(e,t){return k.apply(this,arguments)}function k(){return(k=Object(u.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("GAME IS!!!! ",a),fetch("https://kufigwfj8g.execute-api.us-east-2.amazonaws.com/dev/game/step",{method:"post",body:JSON.stringify({steps:t})}).then((function(e){m({voteSubmitted:!0,vote:n,voteRound:a.round})}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){var e=Math.round((a.roundEndsAt-Date.now())/1e3);e<1&&(e=o.a.createElement("div",{className:"sublabel"},"Next round starting...")),f(e)}),[a]);var R=o.a.createElement(g.a,null,o.a.createElement(O.a,null,o.a.createElement(j.a,{onClick:function(){return w(-2,"Large Step Backward")},color:"green",icon:o.a.createElement(y.a,{icon:"fast-backward"})}),o.a.createElement(j.a,{onClick:function(){return w(-1,"Small Step Backward")},color:"yellow",icon:o.a.createElement(y.a,{rotate:180,icon:"play"})}),o.a.createElement(j.a,{onClick:function(){return w(0,"Stand Still")},icon:o.a.createElement(y.a,{icon:"stop"})}),o.a.createElement(j.a,{onClick:function(){return w(1,"Small Step Forward")},color:"yellow",icon:o.a.createElement(y.a,{icon:"play"})}),o.a.createElement(j.a,{onClick:function(){return w(2,"Large Step Forward")},color:"green",icon:o.a.createElement(y.a,{icon:"fast-forward"})}))),N=o.a.createElement("div",null);return N=l.voteRound>=a.round?o.a.createElement("div",null,"Vote Submitted! You voted for ",l.vote):R,console.log("END TIMER",E),o.a.createElement("div",null,o.a.createElement("div",{className:"round"},"ROUND ",a.round),o.a.createElement("div",{className:"countdown"},E),o.a.createElement("div",{className:"controls"},o.a.createElement("br",null),N),o.a.createElement("br",null),o.a.createElement("div",{className:"instructions"},o.a.createElement("b",null,"Instructions:"),o.a.createElement("br",null),"Once the game begins, a countdown timer will begin. You will have 10 seconds to decide how you would like to move the mountaineer. You may move in large or small steps, forwards or backwards, or vote to stand still. After the round ends, all players movements will be averaged together and the mountaineer will climb!  Make it to the top without going over to win!"))}function R(){var e=Object(v.useRecoilState)(p),t=Object(s.a)(e,2),a=(t[0],t[1],Object(v.useRecoilState)(h)),n=Object(s.a)(a,2);n[0],n[1];return o.a.createElement("div",null,o.a.createElement("div",{className:"instructions"},"Welcome to Mountaineer Climber!",o.a.createElement("br",null),"The game has not started yet, so kick back relax and get ready for some good ol' fashioned mountaineer fun!"))}var N=a(66),x=a.n(N);function T(){var e=Object(v.useRecoilState)(p),t=Object(s.a)(e,2),a=(t[0],t[1],Object(v.useRecoilState)(h)),c=Object(s.a)(a,2),r=(c[0],c[1],Object(v.useRecoilState)(w)),l=Object(s.a)(r,2),i=(l[0],l[1]);return Object(n.useEffect)((function(){i(!0)}),[]),o.a.createElement("div",null,"Congratulations!  a winner is you!")}function C(){var e=Object(v.useRecoilState)(p),t=Object(s.a)(e,2),a=t[0],n=(t[1],Object(v.useRecoilState)(h)),c=Object(s.a)(n,2),r=(c[0],c[1],o.a.createElement("div",null));return r=0!=a.round?a.currentSteps<a.winningSteps+5&&a.currentSteps>a.winningSteps-5?o.a.createElement(T,null):o.a.createElement(k,null):o.a.createElement(R,null),o.a.createElement("div",null,r)}var M=function(){var e=Object(v.useRecoilState)(p),t=Object(s.a)(e,2),a=(t[0],t[1]),c=Object(v.useRecoilState)(h),r=Object(s.a)(c,2),l=(r[0],r[1]),S=Object(v.useRecoilState)(w),g=Object(s.a)(S,2),O=g[0],j=g[1],y=function(){var e=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return{mode:"no-cors"},e.next=3,fetch("https://kufigwfj8g.execute-api.us-east-2.amazonaws.com/dev/game/gameState",{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,a(n),0==n.round&&(j(!1),l({voteSubmitted:!1,vote:!1,voteRound:-1})),setTimeout((function(){y()}),900);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){y()}),[]);var k=o.a.createElement("div",null);return O&&(k=o.a.createElement(x.a,null)),o.a.createElement("div",{className:"App"},o.a.createElement("br",null),o.a.createElement("div",{className:"title"}),k,o.a.createElement(m.a,null,o.a.createElement(d.a,null,o.a.createElement(b.a,null,o.a.createElement(E.a,{xs:24,md:12},o.a.createElement("br",null),o.a.createElement(f.a,{header:o.a.createElement("b",null,"LIVE GAME STREAM"),bordered:!0,shaded:!0,bodyFill:!0},o.a.createElement("div",{className:"video",style:{position:"relative",paddingBottom:"56.25%",paddingTop:25,height:0}},o.a.createElement("iframe",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},src:"https://www.youtube.com/embed/iVCmLBTF-To",frameBorder:"0"})))),o.a.createElement(E.a,{xs:24,md:12},o.a.createElement("br",null),o.a.createElement(f.a,{header:o.a.createElement("b",null,"GAME CONTROLS"),bordered:!0,shaded:!0,bodyFill:!0},o.a.createElement(C,null)))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(v.RecoilRoot,null,o.a.createElement(M,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[116,1,2]]]);
//# sourceMappingURL=main.2ae97e5f.chunk.js.map